\documentclass{article}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{bm}
\usepackage{fancyvrb}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{cancel}
\usepackage{graphicx}
\usepackage{pgfplots}
\usepackage{tikz}
\usepackage{epstopdf}
\usepackage{inputenc}
\usepackage{geometry}
\usepackage{float}
\usepackage{multirow}
\usepackage{comment}
\usepackage{listings}
\usepackage{pgfplotstable}

\usetikzlibrary{calc, patterns, angles, quotes, matrix}



\definecolor{myred}{rgb}{0.5,0,0}
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\definecolor{elemEXBLUE}{rgb}{0,0.44,0.73}

\definecolor{Blue}{rgb}{0, 0.06, 0.65}
\definecolor{YellowGreen}{rgb}{0.39, 0.58, 0.49}
\definecolor{ForestGreen}{rgb}{0.156, 0.49, 0.196}
\definecolor{Blue}{rgb}{0, 0.06, 0.65}

\lstdefinestyle{PythonSyntax}{
  language=Python,
  backgroundcolor=\color{white},   % choose the background color
  basicstyle=\footnotesize\ttfamily,        % size of fonts used for the code
  breaklines=true,                 % automatic line breaking only at whitespace
  captionpos=b,                    % sets the caption-position to bottom
  frame=single, 
  commentstyle=\color{mygreen},    % comment style
  showspaces=false,                % show spaces adding particular underscores
  showstringspaces=false,          % underline spaces within strings
  showtabs=false,                  % show tabs within strings adding particular underscores
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  keywordstyle=\color{blue},       % keyword style
  stringstyle=\color{mymauve},     % string literal style
}

\lstdefinestyle{RSyntax}{ 
  language=R,                     % the language of the code
  basicstyle=\footnotesize\ttfamily,      % the size of the fonts that are used for the code
  %numbers=left,                   % where to put the line-numbers
  %numberstyle=\tiny\color{Blue},  % the style that is used for the line-numbers
  %stepnumber=1,                   % the step between two line-numbers. If it is 1, each line
  %                                % will be numbered
  %numbersep=5pt,                  % how far the line-numbers are from the code
  backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  frame=single,                   % adds a frame around the code
  rulecolor=\color{black},        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
  tabsize=2,                      % sets default tabsize to 2 spaces
  captionpos=b,                   % sets the caption-position to bottom
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
  keywordstyle=\color{Blue},      % keyword style
  commentstyle=\color{YellowGreen},   % comment style
  stringstyle=\color{ForestGreen}      % string literal style
} 

\makeatletter
\long\def\ifnodedefined#1#2#3{%
    \@ifundefined{pgf@sh@ns@#1}{#3}{#2}%
}

\pgfplotsset{
    discontinuous/.style={
    scatter,
    scatter/@pre marker code/.code={
        \ifnodedefined{marker}{
            \pgfpointdiff{\pgfpointanchor{marker}{center}}%
             {\pgfpoint{0}{0}}%
             \ifdim\pgf@y>0pt
                \tikzset{options/.style={mark=*, fill=white}}
                \draw [densely dashed] (marker-|0,0) -- (0,0);
                \draw[options] plot coordinates {(marker-|0,0)};
             \else
                \tikzset{options/.style={mark=none}}
             \fi
        }{
            \tikzset{options/.style={mark=none}}        
        }
        \coordinate (marker) at (0,0);
        \begin{scope}[options, fill=blue]
    },
    scatter/@post marker code/.code={\end{scope}}
    }
}




\newcommand{\sigmah}{\hat{\sigma}}
\newcommand{\thetah}{\hat{\theta}}
\newcommand{\tspan}{\text{span}}
\newcommand{\tdim}{\text{dim}}
\newcommand{\trank}[1]{\text{rank($#1$)}}
\newcommand{\tmin}{\text{min}}
\newcommand{\tker}{\text{ker}}
\newcommand{\tim}{\text{Im}}
\newcommand{\ttr}{\text{trace}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\V}{\text{Var}}
\newcommand{\Cov}{\text{Cov}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\mb}[1]{\mathbf{#1}}
\newcommand{\trmt}[1]{\mb{#1}_{\Phi}}
\newcommand{\wop}[2]{\langle #1, #2\rangle} % wedge operator
\newcommand{\ssp}{\;\;\;} % space
\renewcommand{\P}{\mathbb{P}}
\newcommand{\ra}{\rightarrow}
\newcommand{\imp}{\;\;\implies\;\;}
%\newcommand{\PR}{\textsc{\textbf{Proof}}}
\renewcommand{\geq}{\geqslant}
\renewcommand{\leq}{\leqslant}
\renewcommand{\bar}{\overline}
\newcommand{\RR}{\textbf{R}}
\newcommand{\raP}{\xrightarrow{P}}
\newcommand{\raQ}{\xrightarrow{qm}}
\newcommand{\raD}{\rightsquigarrow}
\newcommand{\eps}{\epsilon}

%ELEM
\newcommand{\EX}[1]{\medskip\noindent\textcolor{elemEXBLUE}{\textbf{Ex. #1}}}

\pgfplotsset{compat=1.16}


\begin{document}

\input{intro.tex}
\input{chap1.tex}
\input{chap2.tex}
\input{chap3.tex}
\input{chap4.tex}
\input{chap5.tex}
\input{chap6.tex}
% \input{chap7.tex}
% \input{chap8.tex}
% \input{chap9.tex}
% \input{chap10.tex}
% \input{chap11.tex}
% \input{chap12.tex}
% \input{chap13.tex}
% \input{chap14.tex}
% \input{chap15.tex}
% \input{chap16.tex}
% \input{chap17.tex}
% \input{chap18.tex}
% \input{chap19.tex}
% \input{chap20.tex}
% \input{chap21.tex}
% \input{chap22.tex}
% \input{chap23.tex}
% \input{chap24.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Appendix %%%%%%%%%%%%%%%%%%%%%%
%\input{appendix.tex}

\end{document}